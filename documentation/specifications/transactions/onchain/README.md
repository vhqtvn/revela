# On-Chain Data and Transactions

Diem transactions mutate and create state (or resources) within the set of [on-chain modules](https://github.com/aptos-labs/aptos-core/tree/main/aptos-move/framework/core/sources), primarily the [Diem Account](https://github.com/aptos-labs/aptos-core/blob/main/aptos-move/framework/doc/DiemAccount.md). The transaction format is defined in the [Move Adapter Specification](https://github.com/aptos-labs/aptos-core/blob/main/specifications/move_adapter/README.md). Most participants of the Diem Payment Network (DPN) will submit SignedTransactions containing a [script function](https://github.com/aptos-labs/aptos-core/blob/main/aptos-move/framework/script_documentation/script_documentation.md). Before release 1.2, clients used scripts. These can be accessed in [compiled form](https://github.com/aptos-labs/aptos-core/tree/release-1.1/language/stdlib/compiled/transaction_scripts) and in their [original form](https://github.com/aptos-labs/aptos-core/tree/release-1.1/language/stdlib/transaction_scripts). The DPN MainNet only allows script functions and this set of pre-registerd scripts to be submitted. Due to the evolving nature of Move and the Move compiler, compiling existing scripts may not result in the form stored in the directory stored above. Hence, it is recommended to use script functions where available or otherwise the compiled scripts.

## Peer to Peer Payments and Transaction Metadata

Most transactions will use the [peer_to_peer_with_metadata script function](https://github.com/aptos-labs/aptos-core/blob/main/aptos-move/framework/script_documentation/script_documentation.md#0x1_PaymentScripts_peer_to_peer_with_metadata). This single transaction represents all current transfers between two participants.

## Dual Attestation Credentials

Diem defines a [DualAttestation::Credential](https://github.com/aptos-labs/aptos-core/blob/main/aptos-move/framework/core/sources/DualAttestation.move) resource to support off-chain protocols. This resource contains the `human_name`, `base_url`, and `compliance_public_key` for a VASP. The `base_url` specifies where the VASP hosts its off-chain API and the `compliance_public_key` is used to verify signed transaction metadata and establish authentication in off-chain communication. The values can be set and updated via the [rotate_dual_attestation_info](https://github.com/aptos-labs/aptos-core/blob/main/aptos-move/framework/transaction_scripts/rotate_dual_attestation_info.move) script.
